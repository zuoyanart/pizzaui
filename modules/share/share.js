define("share",function(require,exports,module){var $=jQuery=require("jquery"),tools=require("pizzatools"),share=new function(){function getRule(a){var n=a.data("rule"),t=a.attr("shtype"),e="";n?(e=tpl({data:n,tools:tools}),$("body").append(e),showRule(a)):$.ajax({url:"/user/share/getrule",data:"id="+a.attr("id").split("_")[1]+"&type="+t,success:function(n){"true"==n.state?(a.data("rule",n.msg),e=tpl({data:n.msg,tools:tools}),$("body").append(e),showRule(a)):layer.msg("网络错误，请稍后重试",{time:1e3})}})}function showRule(a){var n=a.offset();$(".sharerule-tip").css({display:"block",left:parseInt(n.left)-427,top:parseInt(n.top)-175})}function hideRule(){$(".sharerule-tip").remove()}var _self=this,tpl=[function(locals,filters,escape,rethrow){function rethrow(a,n,t,e){var s=n.split("\n"),l=Math.max(e-3,0),r=Math.min(s.length,e+3),i=s.slice(l,r).map(function(a,n){var t=n+l+1;return(t==e?" >> ":"    ")+t+"| "+a}).join("\n");throw a.path=t,a.message=(t||"ejs")+":"+e+"\n"+i+"\n\n"+a.message,a}escape=escape||function(a){return String(a).replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="sharerule-tip">\r\n    <ul class="left">\r\n        <li>悬赏总出资<br/><span><%= tools.accDiv(data.money,100)%>元</span></li>\r\n        <li style="margin-top:30px;">单次奖励金<br/><span><%= tools.accDiv(data.one, 100)%>元<br/>/查看一次</span></li>\r\n    </ul>\r\n    <div class="right">\r\n        <div class="top">满足如下条件，转发/分享此信息的会员可获得奖励金</div>\r\n        <div class="des">\r\n            <ul>\r\n                <li>1-转发/分享信息的会员</li>\r\n                <li style="height:71px;">\r\n                    <table>\r\n                        <tr>\r\n                            <td rowspan="3" style="vertical-align:top"><i class="yuandian"></i>诚信等级：</td>\r\n                              <td>基础资料：<%- share.setStart(data.shdoc)%></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>人脉质量：<%- share.setStart(data.shrm)%></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>综合能力：<%- share.setStart(data.shzh)%></td>\r\n                        </tr>\r\n                    </table>\r\n                </li>\r\n                <li><i class="yuandian"></i>相互彼此间的人脉关系：\r\n                  <% if(data.shlevel == 1) {%>\r\n                  <span><%= data.shlevel%>级人脉关系</span>\r\n                  <%} else {%>\r\n                     不限\r\n                  <%}%>\r\n                </li>\r\n            </ul>\r\n            <ul>\r\n                <li>2-点击查看信息的人</li>\r\n                <li><i class="yuandian"></i>所属地区：<span><%= data.clarea%></span></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <label class="jiantou"></label>\r\n</div>\r\n',filename:"modules/share/sharerule.ejs"};try{var buf=[];with(locals||{})!function(){buf.push('<div class="sharerule-tip">\n    <ul class="left">\n        <li>悬赏总出资<br/><span>',escape((__stack.lineno=3,tools.accDiv(data.money,100))),'元</span></li>\n        <li style="margin-top:30px;">单次奖励金<br/><span>',escape((__stack.lineno=4,tools.accDiv(data.one,100))),'元<br/>/查看一次</span></li>\n    </ul>\n    <div class="right">\n        <div class="top">满足如下条件，转发/分享此信息的会员可获得奖励金</div>\n        <div class="des">\n            <ul>\n                <li>1-转发/分享信息的会员</li>\n                <li style="height:71px;">\n                    <table>\n                        <tr>\n                            <td rowspan="3" style="vertical-align:top"><i class="yuandian"></i>诚信等级：</td>\n                              <td>基础资料：',(__stack.lineno=15,share.setStart(data.shdoc)),"</td>\n                        </tr>\n                        <tr>\n                            <td>人脉质量：",(__stack.lineno=18,share.setStart(data.shrm)),"</td>\n                        </tr>\n                        <tr>\n                            <td>综合能力：",(__stack.lineno=21,share.setStart(data.shzh)),'</td>\n                        </tr>\n                    </table>\n                </li>\n                <li><i class="yuandian"></i>相互彼此间的人脉关系：\n                  '),__stack.lineno=26,1==data.shlevel?(buf.push("\n                  <span>",escape((__stack.lineno=27,data.shlevel)),"级人脉关系</span>\n                  "),__stack.lineno=28):(buf.push("\n                     不限\n                  "),__stack.lineno=30),buf.push('\n                </li>\n            </ul>\n            <ul>\n                <li>2-点击查看信息的人</li>\n                <li><i class="yuandian"></i>所属地区：<span>',escape((__stack.lineno=35,data.clarea)),'</span></li>\n            </ul>\n        </div>\n    </div>\n    <label class="jiantou"></label>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}][0];_self.tip=function(a,n){n?$(a).on("mouseenter",n,function(){getRule($(this))}).on("mouseleave",n,function(){hideRule()}):$(a).on("mouseenter",function(){getRule($(this))}).on("mouseleave",function(){hideRule()})},_self.setStart=function(a){var n="（含以上）";switch(a){case 1:n='<i class="icon-star star-huang"></i>'+n;break;case 2:n='<i class="icon-star star-orange"></i>'+n;break;case 3:n='<i class="icon-star star-hong"></i>'+n;break;default:n=""}return n}};module.exports=share});